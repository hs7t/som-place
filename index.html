<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Pixelify+Sans:wght@400..700&display=swap" rel="stylesheet">

    <link rel="preload" href="sprites/elevator/elevator1.png" as="image">
    <link rel="preload" href="sprites/elevator/elevator2.png" as="image">
    <link rel="preload" href="sprites/elevator/elevator3.png" as="image">
    <link rel="preload" href="sprites/elevator/elevator4.png" as="image">

    <title>Supremely Uncomfortable Place</title>
  </head>

  <script src="https://cdn.jsdelivr.net/npm/howler@2.2.4/dist/howler.min.js"></script>
  <script src="./script.js"></script>
  
  <style>
    * {
      box-sizing: border-box;
      --cursor-default: url("sprites/cursor1.png") 0 0, default;
      --cursor-pointer: url("sprites/cursor2.png") 0 0, pointer;
    }

    .hidden {
      display: none !important;
    }

    body {
      margin: 0;
      padding: 0;
      overflow: hidden;
    }

    main {
      width: 100vw;
      height: 100vh;
      cursor: var(--cursor-default);

      display: flex;
      align-items: center;
      justify-content: center;
      font-family: "Pixelify Sans", monospace, sans-serif;

      image-rendering: pixelated;
      background-color: black;
    }

    img {
        -webkit-user-drag: none;
        user-drag: none;
        -webkit-user-select: none;
        -moz-user-select: none; 
        -ms-user-select: none; 
        user-select: none; 
    }

    section {
      display: flex;
      justify-content: center;
      position: relative;
    }

    .start-section {
      width: 100%;
      height: 100%;
      background: url("sprites/desert.png");
      background-size: cover;
    }
        
    .start-section .elevator-img {
      position: fixed;
      bottom: 0;
      max-height: 60vh;
      max-width: 100%;
      height: 100%;
      object-fit: contain;
      cursor: var(--cursor-pointer);
    }

    .elevator-section {
      container-type: inline-size;
      aspect-ratio: 1 / 1;
      width: min(100vw, 100vh);
      height: min(100vw, 100vh);
      background: url(sprites/elevator_sbg.png);
      background-size: cover;
      animation: fadeIn 1s;
    }

    @keyframes fadeIn {
      0% {
        opacity: 0;
      }
      100% {
        opacity: 1;
      }
    }

    .elevator-section .rob-img {
      position: absolute;
      bottom: 10cqi;
      height: 30cqi;
      object-fit: contain;
      cursor: var(--cursor-pointer);
    }

    .elevator-section .elevator-button-img {
      position: absolute;
      bottom: 42cqi;
      right: 10cqi;
      width: 15cqi;
      object-fit: contain;
      cursor: var(--cursor-pointer);
    }

    .elevator-section .elevator-speaker-grill-img {
      position: absolute;
      bottom: 65cqi;
      right: 10cqi;
      width: 15cqi;
      object-fit: contain;
    }

    .elevator-section dialog {
      background-color: black;
      color: white;
      border: 1cqw solid white;
      width: 80cqw;
      min-height: 10cqh;
      font-size: 2rem;
      outline: none;
    }

    .whirring {
      animation: whirr 200ms infinite;
    }

    @keyframes whirr {
      0% {
        transform: translate(1cqw, 1cqw);
      }
      80% {
        transform: translate(-1cqw, -1cqw);
      }
      100% {
        transform: translate(0cqw, 0cqw);
      }
    }
  </style>

  <body>
    <main>
      <section class="start-section">
        <img class="elevator-img" src="sprites/elevator/elevator1.png" onclick="processElevatorClick()"/>
      </section>
      <section class="elevator-section hidden">
        <img class="rob-img" src="sprites/rob/rob1.png" onclick="showDialog()">
        <img class="elevator-button-img" src="sprites/elevator-button.png" onclick="processElevatorButtonClick()">
        <img class="elevator-speaker-grill-img" src="sprites/elevator-speaker-grill.png">
        <dialog closedby="any">
          <p>Hey what's uppp... I'm Rob... Rob the rock... haha!</p>
        </dialog>
      </section>
    </main>
  </body>
</html>
